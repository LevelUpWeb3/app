[
  {
    "id": "ERC20",
    "name": "ERC20 Basics",
    "index": 1,
    "level": 1,
    "website": "https://github.com/LevelUpWeb3/ERC20-Challenge",
    "summary": "Introduction to implementing a basic ERC20 token with minting, burning, transferring, and approving functionalities.",
    "heroImage": "/images/level-up-preview.png",
    "labels": [
      "DeFi"
    ],
    "content": {
      "compiledSource": "/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"ERC20 Basics\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you haven't completed the Simple Token Swap challenge yet, check it out \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/challenges/simple-token-swap\",\n        children: \"here\"\n      }), \"!\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Most of you are probably familiar with tokens like WETH, USDT, USDC, and many others. Did you know that all of these tokens are designed by following the ERC20 standard?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this challenge, you will implement a basic ERC20 token contract that includes minting, burning, transferring, and approving functionalities.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Objective\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Your task is to:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Develop your own ERC20 token.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deploy it to Scroll Sepolia Testnet.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"And finally verify it.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you need help with using a smart contract framework for completing this challenge, the \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/content/level-up-foundry\",\n        children: \"Level Up: Build with Foundry\"\n      }), \" guide might be a helpful start!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you get stuck, feel free to ask for help in \", _jsx(_components.a, {\n        href: \"https://t.me/+PdNbk5milo1mMTAy\",\n        children: \"Level Up Telegram group\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.24;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/ERC20.sol\\\";\\n\\n// Define your ERC20 token contract\\ncontract MyToken is ERC20 {\\n    // Define the global variables for balances, total supply, name, and symbol below\\n\\n    // Constructor that mints the initial supply to the deployer of the contract\\n    constructor(uint256 initialSupply) ERC20(\\\"MyToken\\\", \\\"MTK\\\") {\\n        // Mint the initial supply of tokens to the deployer's address\\n    }\\n\\n    // Function to mint new tokens to a specified address\\n    function mint(address to, uint256 amount) public {\\n        // Implement the mint function using the _mint internal function\\n    }\\n\\n    // Function to burn tokens from a specified address\\n    function burn(address from, uint256 amount) public {\\n        // Implement the burn function using the _burn internal function\\n    }\\n\\n    // Function to transfer tokens from the caller's address to a specified address\\n    function transfer(address to, uint256 amount) public override returns (bool) {\\n        // Implement the transfer function using the _transfer internal function\\n    }\\n\\n    // Function to approve an address to spend a certain amount of tokens on behalf of the caller\\n    function approve(address spender, uint256 amount) public override returns (bool) {\\n        // Implement the approve function using the _approve internal function\\n    }\\n\\n    // Function to transfer tokens from one address to another using an allowance\\n    function transferFrom(address from, address to, uint256 amount) public override returns (bool) {\\n        // Implement the transferFrom function using the _transfer and _approve internal functions\\n    }\\n\\n    function getBalanceOf(address account) public view returns (uint256) {\\n        // Implement the getBalanceOf function\\n    }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Instructions\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Constructor:\"\n          }), \" The constructor should initialize the ERC20 token by minting the \", _jsx(_components.code, {\n            children: \"initialSupply\"\n          }), \" to the deployer's address. Use the \", _jsx(_components.code, {\n            children: \"_mint\"\n          }), \" function provided by the ERC20 contract.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Mint Function:\"\n          }), \" Implement the \", _jsx(_components.code, {\n            children: \"mint\"\n          }), \" function, which should allow you to create new tokens and assign them to a specific address. This function should call the \", _jsx(_components.code, {\n            children: \"_mint\"\n          }), \" function provided by the ERC20 contract.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Burn Function:\"\n          }), \" Implement the \", _jsx(_components.code, {\n            children: \"burn\"\n          }), \" function, which should allow you to destroy tokens from a specific address, reducing the total supply. Use the \", _jsx(_components.code, {\n            children: \"_burn\"\n          }), \" function provided by the ERC20 contract.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Transfer Function:\"\n          }), \" Implement the \", _jsx(_components.code, {\n            children: \"transfer\"\n          }), \" function to allow the caller to send tokens to another address. Override the \", _jsx(_components.code, {\n            children: \"transfer\"\n          }), \" function and use the \", _jsx(_components.code, {\n            children: \"_transfer\"\n          }), \" function from the ERC20 contract.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"Approve Function:\"\n          }), \" Implement the \", _jsx(_components.code, {\n            children: \"approve\"\n          }), \" function, allowing the caller to authorize another address to spend a certain amount of tokens on their behalf. Override the \", _jsx(_components.code, {\n            children: \"approve\"\n          }), \" function and use the \", _jsx(_components.code, {\n            children: \"_approve\"\n          }), \" function from the ERC20 contract.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"TransferFrom Function:\"\n          }), \" Implement the \", _jsx(_components.code, {\n            children: \"transferFrom\"\n          }), \" function to allow a spender to transfer tokens from one address to another, using an allowance set by the \", _jsx(_components.code, {\n            children: \"approve\"\n          }), \" function. Override the \", _jsx(_components.code, {\n            children: \"transferFrom\"\n          }), \" function and use the \", _jsx(_components.code, {\n            children: \"_transfer\"\n          }), \" and \", _jsx(_components.code, {\n            children: \"_approve\"\n          }), \" functions to implement this functionality.\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n",
      "frontmatter": {},
      "scope": {}
    }
  },
  {
    "id": "simple-token-swap",
    "name": "Simple Token Swap",
    "index": 2,
    "level": 2,
    "website": "https://github.com/LevelUpWeb3/SimpleTokenSwap-Challenge",
    "summary": "Introduction to implementing a simple token swap contract by understanding Uniswap swap function.",
    "heroImage": "/images/level-up-preview.png",
    "labels": [
      "DeFi"
    ],
    "content": {
      "compiledSource": "/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    h3: \"h3\",\n    em: \"em\",\n    ul: \"ul\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Simple Token Swap\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you haven't completed the ERC20 basic challenge yet, check it out \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/challenges/ERC20\",\n        children: \"here\"\n      }), \"!\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You have now grasped the functionality of ERC20 tokens. Ever wondered how you can use these tokens to swap to another token for decentralized finance use cases (i.e WETH to USDC)?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this challenge, you will implement a simple Uniswap token swap contract.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Objective\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Your task is to:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Develop your own contract with Swap functionality.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deploy it to Scroll Sepolia Testnet.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"And finally verify it.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you need help with using a smart contract framework for completing this challenge, the \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/content/level-up-foundry\",\n        children: \"Level Up: Build with Foundry\"\n      }), \" guide might be a helpful start!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you get stuck, feel free to ask for help in \", _jsx(_components.a, {\n        href: \"https://t.me/+PdNbk5milo1mMTAy\",\n        children: \"Level Up Telegram group\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.26;\\n\\n// Standard ERC20 interface that you can use for internal token transfer\\ninterface IERC20 {\\n    function totalSupply() external view returns (uint256);\\n    function balanceOf(address account) external view returns (uint256);\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n    function allowance(address owner, address spender) external view returns (uint256);\\n    function approve(address spender, uint256 amount) external returns (bool);\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n}\\n\\n// Uniswap V3 02 router interface with the function that you will need to use for this challenge\\ninterface ISwapRouter02 {\\n    struct ExactInputSingleParams {\\n        address tokenIn;\\n        address tokenOut;\\n        uint24 fee;\\n        address recipient;\\n        uint256 amountIn;\\n        uint256 amountOutMinimum;\\n        uint160 sqrtPriceLimitX96;\\n    }\\n    function exactInputSingle(ExactInputSingleParams calldata params) external payable returns (uint256 amountOut);\\n}\\n\\ncontract UniV3Swap {\\n    // Uniswap Router address deployed at Scroll Sepolia Testnet\\n    address SCROLL_SEPOLIA_UNIV3_ROUTER_V2 = 0x17AFD0263D6909Ba1F9a8EAC697f76532365Fb95;\\n\\n    // Trade two tokens in the Uniswap V3 contract deployed at Scroll Sepolia Testnet. You can try it yourself by passing the following params:\\n    // tokenIn: Contract address of the token you want to sell, for example WETH 0x5300000000000000000000000000000000000004\\n    // tokenOut: Contract address of the token you want to buy, for example Aave's GHO Stablecoin 0xD9692f1748aFEe00FACE2da35242417dd05a8615\\n    // fee: Fee that goes to the LP holders, try with 3000 which represents 0.30%\\n    // amountIn: Amount of tokens you wan't to sell\\n    // amountOutMinimum: Minimum amount of GHO you want in return\\n    // sqrtPriceLimitX96: Price limit, used by advanced traders, you can set this to 0 for testing purposes\\n    function swap(address tokenIn, address tokenOut, uint24 fee, uint256 amountIn, uint256 amountOutMinimum, uint160 sqrtPriceLimitX96)\\n        external\\n    {\\n        // 1. Transfer the tokens the user is Selling, tokenIn\\n        // 2. Allow or Approve the uniswap router from the tokenIn contract\\n        // 3. Prepare the ExactInputSingleParams struct bu filling all the parameters\\n        // 4. Execute the exactInputSingle function\\n    }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What You'll Need to Know\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"How Uniswap V3 Works\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Uniswap liquidity is held in pools composed of token pairs, and in Uniswap V2, prices are determined using the \", _jsx(_components.code, {\n        children: \"x * y = k\"\n      }), \", where \", _jsx(_components.code, {\n        children: \"x\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"y\"\n      }), \" are the amounts of two tokens in the pool and \", _jsx(_components.code, {\n        children: \"k\"\n      }), \" is a constant, ensures that the product of the token quantities remains stable. As trades occur, the ratio between the tokens shifts, causing the price to adjust automatically based on supply and demand. This mechanism helps stabilize prices and minimize volatility by making it harder for individual trades to cause significant price swings, especially in pools with greater liquidity.\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"text-center\",\n      children: [_jsx(\"img\", {\n        src: \"https://docs.uniswap.org/assets/images/anatomy-d22fb7ab46013a1195f086ee672468c7.jpg\",\n        alt: \"order route screenshot\",\n        width: \"650\"\n      }), _jsx(_components.p, {\n        children: _jsxs(_components.em, {\n          children: [\"In Uniswap V2, \", _jsx(_components.a, {\n            href: \"https://docs.uniswap.org/contracts/v2/concepts/core-concepts/pools\",\n            children: \"liquidity is held in token pairs\"\n          }), \".\"]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"While Uniswap V3 still uses the \", _jsx(_components.code, {\n        children: \"x * y = k\"\n      }), \" formula, it introduces the possibility of concentrating the liquidity, allowing liquidity providers to decide the ranges at which they want teir liquidity to be used in trades. At the contract level, the ranges are expressed as \\\"ticks\\\", which are used to calculate specific price ranges. A more detailed explanation can be found in \", _jsx(_components.a, {\n        href: \"https://blog.uniswap.org/uniswap-v3-math-primer\",\n        children: \"this blog post\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"text-center\",\n      children: [_jsx(\"img\", {\n        src: \"https://images.ctfassets.net/oc3ca6rftwdu/3ym1i9ficLAGAQMghk5evu/d50a5d5b354dc79e1f2c80518cf64102/NFT1.gif\",\n        alt: \"order route screenshot\",\n        width: \"650\"\n      }), _jsx(_components.p, {\n        children: _jsx(_components.em, {\n          children: \"Each liquidity position is represented by an NFT that specifies the chosen tick ranges.\"\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Additionally, Ethereum has a 12-second block time, and there are other decentralized and centralized exchanges (DEXes and CEXes). This creates multiple ways to determine a fair price for a swap. While price calculations are beyond the scope of this challenge, it's important to understand that Uniswap is designed to allow users to leverage on-chain data, Web2 APIs (such as for CEX data), and other tools like aggregators to find fair prices.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"A Quick Important Note on Uniswap Versioning\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Did you know that Uniswap V3 has two versions? In this guide, we will be using the version referred to as \", _jsx(_components.em, {\n        children: \"Uniswap V3 02\"\n      }), \", which should not be confused with the \\\"vanilla\\\" Uniswap V3 deployed on Ethereum. Uniswap is opinionated about contract upgradability, instead of using proxy contracts, they release new contract versions to provide stronger security guarantees and decentralization for users. As a result, Uniswap V3 cannot be upgraded, and the initial deployment is slightly different from later versions. Most official documentation refers to the first deployment on Ethereum mainnet, but for this challenge, we will be using the latest version. You can find additional details about both versions in the \\\"Further Reading\\\" section.\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      children: [\"Understanding \", _jsx(_components.code, {\n        children: \"exactInputSingle\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"exactInputSingle\"\n      }), \" function performs a \\\"single hop\\\" swap where the input token amount is specified, and the contract will calculate the exact amount of the output token (the token the user is buying) based on the current market rate at the time of execution. A \\\"single hop\\\" means that the swap occurs within a single liquidity pool pair.\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"text-center\",\n      children: [_jsx(\"img\", {\n        src: \"https://images.ctfassets.net/oc3ca6rftwdu/6yT4eFYGhei5outTqLW16N/40c44fdb839d41fcd30a1be1b325c12f/demo.gif\",\n        alt: \"order route screenshot\",\n        width: \"650\"\n      }), _jsx(_components.p, {\n        children: _jsxs(_components.em, {\n          children: [\"Uniswap can perform \", _jsx(_components.a, {\n            href: \"https://blog.uniswap.org/auto-router\",\n            children: \"\\\"multi hop\\\" trades\"\n          }), \" to offer users better prices, but for this challenge, we will limit it to single-hop trades.\"]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For this challenge, we will focus on the \", _jsx(_components.code, {\n        children: \"exactInputSingle\"\n      }), \" function. Other available functions include \", _jsx(_components.code, {\n        children: \"exactOutputSingle\"\n      }), \", which allows specifying the exact output token amount, and their multi-hop counterparts, \", _jsx(_components.code, {\n        children: \"exactInput\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"exactOutput\"\n      }), \", which can route trades through multiple liquidity pools to optimize for arbitrage opportunities.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [_jsx(_components.code, {\n        children: \"ExactInputSingleParams\"\n      }), \" Explained\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"exactInputSingle\"\n      }), \" function accepts a single argument, \", _jsx(_components.code, {\n        children: \"ExactInputSingleParams\"\n      }), \", which contains all the necessary information to perform a swap. Here's a breakdown of its parameters:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"tokenIn\"\n        }), \": The address of the token being sold.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"tokenOut\"\n        }), \": The address of the token being bought.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"fee\"\n        }), \": The fee tier (expressed in basis points) that goes to liquidity providers. Uniswap V3 allows for different fee tiers, such as 0.01%, 0.05%, 0.30%, and 1%, depending on the liquidity pool.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"recipient\"\n        }), \": The address that will receive the purchased tokens. This is usually the \", _jsx(_components.code, {\n          children: \"msg.sender\"\n        }), \", but it can be any valid address.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"amountIn\"\n        }), \": The exact amount of tokens the user wants to sell (input token).\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"amountOutMinimum\"\n        }), \": The minimum amount of tokens the user is willing to accept for the trade. In the Uniswap UI, this is commonly referred to as slippage tolerance, typically expressed as a percentage (e.g., 0.5%).\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"sqrtPriceLimitX96\"\n        }), \": The square root of the price limit (scaled by 2^96) for the trade. This parameter allows advanced traders to stop the trade if, at any point, it becomes unfavorable due to a significant price difference between ticks. If no price limit is required, this can be set to 0.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"A Cool Tip\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Did you know that a \", _jsx(_components.a, {\n          href: \"https://uniswap-showcase.sepolia.scroll.xyz/#/swap\",\n          children: \"testnet frontend interacting with UniV3 contracts\"\n        }), \" is available for Scroll Sepolia? You can Swap ETH and GHO or create a pool with any ERC20 token on Scroll Sepolia.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Step by step: How to complete this challenge\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Implement the swap function with the following steps.\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Transfer the tokens the user is Selling, tokenIn\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Allow or \", _jsx(_components.code, {\n          children: \"Approve\"\n        }), \" the uniswap router from the tokenIn contract\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Prepare the \", _jsx(_components.code, {\n          children: \"ExactInputSingleParams\"\n        }), \" struct bu filling all the parameters\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Execute the \", _jsx(_components.code, {\n          children: \"exactInputSingle\"\n        }), \" function\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Test it yourself\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To ensure your implementation works, follow these steps:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Clone the repo and navigate to the directory:\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"git clone https://github.com/LevelUpWeb3/SimpleTokenSwap-Challenge\\ncd SimpleTokenSwap-Challenge\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"Complete the functions in \", _jsx(_components.code, {\n            children: \"src/UniV3Swap.sol\"\n          })]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"Run the tests on Scroll Sepolia:\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"forge test --fork-url https://scroll-testnet-public.unifra.io\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Further Reading\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://docs.uniswap.org/contracts/v3/guides/swaps/single-swaps\",\n          children: \"Uniswap v3 Official Swaps Documentation\"\n        }), \" Outdated\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/Uniswap/v3-periphery/tree/main\",\n          children: \"Uniswap V3 Version 01 Periphery Repo\"\n        }), \" (Outdated: Original Uniswap V3 deployment on Mainnet)\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/Uniswap/swap-router-contracts/tree/main\",\n          children: \"Uniswap V3 Version 02 Periphery Repo\"\n        }), \" (Latest Uniswap V3 version: this is deployed on Scroll)\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/Uniswap/v3-core\",\n          children: \"Uniswap V3 Core Repo\"\n        }), \" (internal functions)\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://blog.uniswap.org/uniswap-v3-math-primer\",\n          children: \"Introduction to Uniswap V3 Math\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n",
      "frontmatter": {},
      "scope": {}
    }
  },
  {
    "id": "0x-challenge",
    "name": "0x Swap API Challenge",
    "index": 3,
    "level": 2,
    "website": "https://github.com/LevelUpWeb3/0xSwapAPI-Challenge",
    "summary": "Learn to use the 0x Swap API to display liquidity sources, monetize your app, and manage token taxes on Scroll.",
    "heroImage": "/images/level-up-preview.png",
    "labels": [
      "DeFi"
    ],
    "content": {
      "compiledSource": "/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    hr: \"hr\",\n    h3: \"h3\",\n    strong: \"strong\",\n    em: \"em\",\n    h4: \"h4\",\n    code: \"code\",\n    pre: \"pre\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"0x Swap API Challenge\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Before diving into this guide, make sure you’ve completed the \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/content/0x-on-scroll\",\n        children: \"How to fetch live swap prices with 0x Swap API on Scroll\"\n      }), \" guide. This will give you a solid understanding of fetching swap quotes and prepare you for the tasks ahead.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this challenge, you'll explore advanced features of the 0x Swap API, including displaying swap breakdowns, handling buy/sell token taxes, and monetizing your app. By the end, you’ll be able to use these features to enhance your trading experience.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Let's get started! 💪\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Objective\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You will:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Display the percentage breakdown of liquidity sources\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Monetize your app with affiliate fees and surplus collection\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Display buy/sell taxes for tokens with taxes\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Find all sources of liquidity on Scroll\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.h2, {\n      children: \"Instructions\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"0. Get Starter Code\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Fork this code repository: \", _jsx(_components.a, {\n        href: \"https://github.com/LevelUpWeb3/0xSwapAPI-Challenge\",\n        children: \"https://github.com/LevelUpWeb3/0xSwapAPI-Challenge\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You will need to build on top of this code to complete the following tasks.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"1. Display Percentage Breakdown of Liquidity Sources\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The 0x Swap API uses smart order routing to find the best price and execution path, often splitting trades across multiple sources and identifying intermediate tokens for deeper liquidity.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Often the direct route for a swap isn't always the best price. 0x Swap API uses smart order routing to deliver the best price and optimal execution path by using \", _jsx(_components.strong, {\n        children: \"multiplexing\"\n      }), \" (splitting a trade across multiple sources) and \", _jsx(_components.strong, {\n        children: \"multihopping\"\n      }), \" (identifying intermediate token steps which open up deeper liquidity).\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"text-center\",\n      children: [_jsx(\"img\", {\n        src: \"/images/challenges/order-route.png\",\n        alt: \"order route screenshot\",\n        width: \"650\"\n      }), _jsx(_components.p, {\n        children: _jsx(_components.em, {\n          children: \"0x routes to find the best liquidity sources for a swap through both on-chain\\nand off-chain sources. You can use the API response data to display a Sankey diagram\\nthat visualizes the routes like the one from Matcha.xyz for a swap of WETH to USDC.\"\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Task 1\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use the \", _jsx(_components.code, {\n        children: \"route\"\n      }), \" response parameter returned by the \", _jsx(_components.a, {\n        href: \"https://0x.org/docs/api#tag/Swap/operation/swap::permit2::getQuote\",\n        children: _jsx(_components.code, {\n          children: \"/swap/permit2/quote\"\n        })\n      }), \" endpoint to show users a percentage breakdwon of where their swap liquidity comes from.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For example, if this is the \", _jsx(_components.code, {\n        children: \"route\"\n      }), \" object returned, it shows that the swap is executed using 50% liquidity from Ambient and 50% from Nuri,\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-json\",\n        children: \" \\\"route\\\": {\\n    \\\"fills\\\": [\\n      {\\n        from\\\": \\\"0x5300000000000000000000000000000000000004\\\",\\n        \\\"to\\\": \\\"0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4\\\",\\n        \\\"source\\\": \\\"Ambient\\\",\\n        \\\"proportionBps\\\": \\\"5000\\\"\\n      },\\n      {\\n       from\\\": \\\"0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4\\\",\\n        \\\"to\\\": \\\"0xf610a9dfb7c89644979b4a0f27063e9e7d7cda32\\\",\\n        \\\"source\\\": \\\"Nuri_CL\\\",\\n        \\\"proportionBps\\\": \\\"5000\\\"\\n      },\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Then for this quote, the app should print:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"2 Sources\\nAmbient: 50%\\nNuri_CL: 50%\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"2. Monetize Your App\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The 0x Swap API allows you to monetize your app through:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://0x.org/docs/0x-swap-api/guides/monetize-your-app-using-swap#option-1-collect-affiliate-fees\",\n          children: \"Collecting an affiliate fee (aka trading fee or commission)\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://0x.org/docs/0x-swap-api/guides/monetize-your-app-using-swap#option-2-collect-trade-surplus\",\n          children: \"Collecting trade surplus (aka positive slippage)\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Read how to implement \", _jsx(_components.a, {\n        href: \"https://0x.org/docs/0x-swap-api/guides/monetize-your-app-using-swap\",\n        children: \"these two monetization options\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Task 2\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Add the required query parameters to your \", _jsx(_components.code, {\n        children: \"/quote\"\n      }), \" request to enable affiliate fees and trade surplus collection.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"3. Display Buy/Sell Token Tax\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Some tokens have buy or sell taxes that affect the final swap amount. Fetch and display this information in your app to inform users about any potential taxes before completing a trade.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use the \", _jsx(_components.code, {\n        children: \"tokenMetadata\"\n      }), \" object returned in the \", _jsx(_components.code, {\n        children: \"/price\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"/quote\"\n      }), \" endpoints. This object contains the buy/sell tax information for the tokens involved in the swap.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Read how to \", _jsx(_components.a, {\n        href: \"https://0x.org/docs/developer-resources/buy-sell-tax-support\",\n        children: \"implement buy/sell tax support\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Task 3\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use the \", _jsx(_components.code, {\n        children: \"tokenMetadata\"\n      }), \" response parameter returned by the \", _jsx(_components.a, {\n        href: \"https://0x.org/docs/api#tag/Swap/operation/swap::permit2::getQuote\",\n        children: _jsx(_components.code, {\n          children: \"/swap/permit2/quote\"\n        })\n      }), \" endpoint to display the buy/sell tax information if the token has it.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For example, if the \", _jsx(_components.code, {\n        children: \"buyToken\"\n      }), \" has a 200bps buy tax,\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-json\",\n        children: \"\\\"tokenMetadata\\\": {\\n    \\\"buyToken\\\": {\\n      \\\"buyTaxBps\\\": \\\"200\\\",\\n      \\\"sellTaxBps\\\": \\\"147\\\"\\n    },\\n    \\\"sellToken\\\": {\\n      \\\"buyTaxBps\\\": \\\"0\\\",\\n      \\\"sellTaxBps\\\": \\\"0\\\"\\n    }\\n  },\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The app should print:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"Buy Token Buy Tax: 0.20%\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"4. Find All Sources of Liquidity on Scroll\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The 0x Swap API aggregates liquidity from multiple decentralized exchanges (DEXs) and other sources on the Scroll chain.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"/sources\"\n      }), \" endpoint can be used to get a list of supported supporces for a specific chain. Read more about how to \", _jsxs(_components.a, {\n        href: \"https://0x.org/docs/api#tag/Sources\",\n        children: [\"query the \", _jsx(_components.code, {\n          children: \"/sources\"\n        }), \" endpoint\"]\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Task 4\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Retrieve and display a list of all the available liquidity sources on the Scroll chain.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The app should print:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"Liquidity sources for Scroll chain:\\n     Ambient,\\n     DODO_V2,\\n     IziSwap,\\n     Maverick_V2,\\n     Metavault_V2,\\n     Metavault_V3,\\n     Nuri_CL,\\n     Skydrome,\\n     SushiSwap_V3,\\n     SyncSwap,\\n     Tokan,\\n     Zebra_V2\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Learn More\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Congratulations on exploring advanced features of the 0x Swap API on Scroll!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Check out these starter projects to dive deeper:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Build a Next.js 0x Demo App: \", _jsx(_components.a, {\n          href: \"https://github.com/0xProject/0x-examples/tree/main/swap-v2-next-app\",\n          children: \"Code\"\n        }), \" | \", _jsx(_components.a, {\n          href: \"./build-token-swap-dapp-nextjs\",\n          children: \"Guide\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Explore more 0x examples in the \", _jsx(_components.a, {\n          href: \"https://github.com/0xProject/0x-examples\",\n          children: \"Examples Repo\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Try out the \", _jsx(_components.a, {\n          href: \"https://0x.org/docs/gasless-api/introduction\",\n          children: \"0x Gasless API\"\n        }), \" for gasless swaps!\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Social Links\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you found this content helpful, please share it and tag \", _jsx(_components.a, {\n        href: \"https://x.com/0xProject\",\n        children: \"@0xproject\"\n      }), \" and the author \", _jsx(_components.a, {\n        href: \"https://x.com/hey_its_jlin\",\n        children: \"@hey_its_jlin\"\n      }), \" on X!\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n",
      "frontmatter": {},
      "scope": {}
    }
  },
  {
    "id": "simple-lending",
    "name": "Simple Lending",
    "index": 4,
    "level": 3,
    "website": "https://github.com/Turupawn/LendingChallengeLevelUp",
    "summary": "Understand the inner workings of Aave by completing the Lending challenge.",
    "heroImage": "/images/level-up-preview.png",
    "labels": [
      "DeFi"
    ],
    "content": {
      "compiledSource": "/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    code: \"code\",\n    pre: \"pre\",\n    h3: \"h3\",\n    ul: \"ul\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Simple Lending\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you haven't completed the Token Swap challenge yet, check it out \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/challenges/simple-token-swap\",\n        children: \"here\"\n      }), \"!\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Let's take a step further and dive into another core DeFi primitive, lending. Aave is one of the top protocols, securing billions in assets. Let's learn how to earn yield by lending through smart contracts.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this challenge, you'll implement a contract that deposits into Aave pools on your behalf. You'll also be able to withdraw your supplied tokens along with the earned rewards.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Objective\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Your task is to:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Develop your own contract with \", _jsx(_components.code, {\n          children: \"stake\"\n        }), \" and \", _jsx(_components.code, {\n          children: \"unstake\"\n        }), \" functionalities based on the provided base contract.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deploy it to Scroll Sepolia testnet.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"And finally verify it.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you need help with using a smart contract framework for completing this challenge, the \", _jsx(_components.a, {\n        href: \"https://www.levelup.xyz/content/level-up-foundry\",\n        children: \"Level Up: Build with Foundry\"\n      }), \" guide might be a helpful start!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you get stuck, feel free to ask for help in \", _jsx(_components.a, {\n        href: \"https://t.me/+PdNbk5milo1mMTAy\",\n        children: \"Level Up Telegram group\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.13;\\n\\n// In this example, the DataTypes library is used to query the AToken address that corresponds DAI\\n// Later, we will use the getReserveData that will return a ReserveData object.  \\n// Aave docs: https://docs.aave.com/developers/core-contracts/pool#getreservedata\\nlibrary DataTypes {\\n  struct ReserveConfigurationMap {\\n    uint256 data;\\n  }\\n\\n  struct ReserveData {\\n    ReserveConfigurationMap configuration;\\n    uint128 liquidityIndex;\\n    uint128 currentLiquidityRate;\\n    uint128 variableBorrowIndex;\\n    uint128 currentVariableBorrowRate;\\n    uint128 currentStableBorrowRate;\\n    uint40 lastUpdateTimestamp;\\n    uint16 id;\\n    address aTokenAddress;\\n    address stableDebtTokenAddress;\\n    address variableDebtTokenAddress;\\n    address interestRateStrategyAddress;\\n    uint128 accruedToTreasury;\\n    uint128 unbacked;\\n    uint128 isolationModeTotalDebt;\\n  }\\n}\\n\\n// IPool is the main AAVE interface exposed to users, the most notable functions are borrow, supply and withdraw\\n// AAVE docs: https://docs.aave.com/developers/core-contracts/pool\\ninterface IPool {\\n    function supply(\\n        address asset,\\n        uint256 amount,\\n        address onBehalfOf,\\n        uint16 referralCode) external;\\n\\n    function withdraw(\\n        address asset,\\n        uint256 amount,\\n        address to) external returns (uint256);\\n\\n    function getReserveData(\\n        address asset) external view returns (DataTypes.ReserveData memory);\\n}\\n\\n// ERC20 interface used to interact with the staking token, which is DAI on this tutorial\\ninterface IERC20 {\\n    function totalSupply() external view returns (uint256);\\n    function balanceOf(address account) external view returns (uint256);\\n    function transfer(address to, uint256 value) external returns (bool);\\n    function allowance(address owner, address spender) external view returns (uint256);\\n    function approve(address spender, uint256 value) external returns (bool);\\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\\n}\\n\\n// This contract acts as a proxy to earn yield on AAVE. It can be used seamlessly on the background on\\n// a variety of contexts such as auctions, DAO treasuries, lotteries, etc...\\ncontract AaveLender {\\n    // AAVE Pool Address, deployed on Scroll Sepolia at 0x48914C788295b5db23aF2b5F0B3BE775C4eA9440\\n    address public immutable AAVE_POOL_ADDRESS = 0x48914C788295b5db23aF2b5F0B3BE775C4eA9440;\\n    // In this example we will stake DAI, but any ERC20 supported by AAVE can be also used\\n    address public immutable STAKED_TOKEN_ADDRESS = 0x7984E363c38b590bB4CA35aEd5133Ef2c6619C40;\\n\\n    // Function that stakes DAI and lends it on the background\\n    function stake(uint amount) public {\\n      ...\\n      // 1. Transfer the DAI tokens to be deposited into this contract\\n      // 2. Allow (or approve) the Aave Pool contract so it can manage the deposited DAI tokens\\n      // 3. Call the supply function in the Aave Pool on behalf of the transaction sender\\n    }\\n\\n    // Every user is able to unstake the exact amount it has staked, all the yield generated by AAVE will go the owner\\n    function unstake(uint amount) public {\\n      ...\\n      // 1. Transfer the aDAI token (The AToken) to be withdrawn (notice you’ll need to retrieve the aDAI token address first)\\n      // 2. Allow (or approve) the Aave Pool contract so it can manage the deposited aDAI tokens\\n      // 3. Call the withdraw function so the sender receives the DAI back\\n    }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What You'll Need to Know\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Core Functions in Aave: Supply, Withdraw, Borrow, and Repay\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"These are the four core functions in the Aave protocol:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Supply:\"\n        }), \" Lend tokens by depositing them into the Aave Pool.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Withdraw:\"\n        }), \" Retrieve your supplied tokens along with any earned rewards.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Borrow:\"\n        }), \" Borrow tokens from the pool.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Repay:\"\n        }), \" Pay back the borrowed tokens plus interest.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this challenge, we will focus on the \", _jsx(_components.code, {\n        children: \"supply\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"withdraw\"\n      }), \" functions.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"ATokens: Aave's Auto-Yield Tokens\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When you \", _jsx(_components.code, {\n        children: \"supply\"\n      }), \" tokens to Aave, you receive ATokens as a receipt. For example, if you deposit \", _jsx(_components.code, {\n        children: \"10 DAI\"\n      }), \" into the Aave Pool, you will get \", _jsx(_components.code, {\n        children: \"10 aDAI\"\n      }), \" in return. This token tracks how much you supplied and the yield you've earned, so when you \", _jsx(_components.code, {\n        children: \"withdraw\"\n      }), \", you receive your tokens along with any accrued rewards.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For instance, if you deposit \", _jsx(_components.code, {\n        children: \"10 DAI\"\n      }), \" today, you immediately receive \", _jsx(_components.code, {\n        children: \"10 aDAI\"\n      }), \". After several blocks, your \", _jsx(_components.code, {\n        children: \"10 aDAI\"\n      }), \" might become \", _jsx(_components.code, {\n        children: \"11 aDAI\"\n      }), \". When you \", _jsx(_components.code, {\n        children: \"withdraw\"\n      }), \", you return your \", _jsx(_components.code, {\n        children: \"11 aDAI\"\n      }), \" and receive \", _jsx(_components.code, {\n        children: \"11 DAI\"\n      }), \", earning a \", _jsx(_components.code, {\n        children: \"1 DAI\"\n      }), \" profit.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ATokens use rebase functionality, making it easy for users to track their earnings without manual interaction.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"What is a Rebase Token?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Rebase tokens, like ATokens, fully comply with the ERC20 standard but with a twist. They include a mechanism that adjusts all holders' balances proportionally based on a variable called \", _jsx(_components.code, {\n        children: \"RATE\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Typically, the \", _jsx(_components.code, {\n        children: \"balanceOf()\"\n      }), \" function in ERC20 looks like this:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"balanceOf(x) = balances[x]\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In rebase tokens, the \", _jsx(_components.code, {\n        children: \"RATE\"\n      }), \" variable modifies this:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"balanceOf(x) = sharesOf(x) * RATE\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"sharesOf(x)\"\n        }), \" also called \\\"fragments\\\", represents the amount of tokens a holder has in proportion to the rest.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"RATE\"\n        }), \" is a variable that adjusts to distribute rewards evenly across all holders.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This allows the protocol to efficiently distribute rewards, and users can simply check their AToken balance to see how much they've earned without needing to interact further.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Understanding Aave Functions in This Challenge\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"supply()\"\n      }), \" Function\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this challenge, the \", _jsx(_components.code, {\n        children: \"deposit\"\n      }), \" function in your smart contract will call the \", _jsx(_components.code, {\n        children: \"supply\"\n      }), \" function to deposit \", _jsx(_components.code, {\n        children: \"DAI\"\n      }), \" into the Aave pool. In return, the user will receive an equivalent amount of \", _jsx(_components.code, {\n        children: \"aDAI\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"function supply(\\n  address asset,\\n  uint256 amount,\\n  address onBehalfOf,\\n  uint16 referralCode\\n) external;\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"asset:\"\n        }), \" The token being deposited into the pool (we’ll use DAI in this challenge).\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"amount:\"\n        }), \" The amount of the \", _jsx(_components.code, {\n          children: \"asset\"\n        }), \" being deposited, in wei.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"onBehalfOf:\"\n        }), \" The address that will receive the ATokens.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"referralCode:\"\n        }), \" A code for third-party integrations. For this challenge, set it to 0.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"withdraw()\"\n      }), \" Function\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"withdraw\"\n      }), \" function will transfer the user's \", _jsx(_components.code, {\n        children: \"aDAI\"\n      }), \" back to the Aave pool, allowing them to receive their \", _jsx(_components.code, {\n        children: \"DAI\"\n      }), \" along with any earned interest.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"function withdraw(\\n  address asset,\\n  uint256 amount,\\n  address to\\n) external returns (uint256);\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"asset:\"\n        }), \" The underlying asset being withdrawn from the pool (in this case, DAI, not the AToken).\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"amount:\"\n        }), \" The amount of the \", _jsx(_components.code, {\n          children: \"asset\"\n        }), \" being withdrawn, in wei.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"to:\"\n        }), \" The address that will receive the tokens.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"Retrieving the AToken Address with \", _jsx(_components.code, {\n        children: \"getReserveData()\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Each ERC20 token supported by Aave has a corresponding AToken. You can find the address of the AToken by calling the \", _jsx(_components.code, {\n        children: \"getReserveData()\"\n      }), \" function, which returns the aTokenAddress along with other details about the token pool. You'll need this address to manage funds in the withdraw function.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-solidity\",\n        children: \"ISwapRouter.ExactInputSingleParamsIPool(AAVE_POOL_ADDRESS)\\n  .getReserveData(STAKED_TOKEN_ADDRESS)\\n  .aTokenAddress;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This will provide the AToken address, which is required for interacting with the Aave Pool.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"A Cool Tip\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Did you know that the \", _jsx(_components.a, {\n          href: \"https://staging.aave.com/\",\n          children: \"Official Aave testnet UI\"\n        }), \" supports Scroll Sepolia? After supplying tokens you will be able to see your position in the UI. Also, you can mint testnet DAI on \", _jsx(_components.a, {\n          href: \"https://staging.aave.com/faucet/\",\n          children: \"The Aave faucet\"\n        }), \" in order to test your code.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Step by step: How to complete this challenge\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: _jsx(_components.strong, {\n            children: \"Implement the stake function:\"\n          })\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Transfer the DAI tokens to this contract.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Approve the Aave Pool contract to manage the deposited DAI.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Call the \", _jsx(_components.code, {\n              children: \"supply()\"\n            }), \" function on behalf of the transaction sender.\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: _jsx(_components.strong, {\n            children: \"Implement the unstake function:\"\n          })\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Transfer the aDAI tokens (the AToken) for withdrawal.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Approve the Aave Pool contract to manage the aDAI.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Call the \", _jsx(_components.code, {\n              children: \"withdraw()\"\n            }), \" function to receive DAI back.\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Test it yourself\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To ensure your implementation works, follow these steps:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Clone the repo and navigate to the directory:\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"git clone https://github.com/LevelUpWeb3/SimpleLending-Challenge\\ncd LendingChallengeLevelUp\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"Complete the functions in \", _jsx(_components.code, {\n            children: \"src/AaveLender.sol\"\n          })]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"Run the tests on Scroll Sepolia:\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"forge test --fork-url https://scroll-testnet-public.unifra.io\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Further Reading\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://docs.aave.com/developers/getting-started/contracts-overview\",\n          children: \"Aave v3 Official Documentation\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://docs.aave.com/developers/tokens/atoken\",\n          children: \"About ATokens\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n",
      "frontmatter": {},
      "scope": {}
    }
  }
]